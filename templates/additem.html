<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Item - CENGden</title>
<script>
    function showFields() {
        var category = document.getElementById("category").value;
        var fields = document.getElementsByClassName("field");

        for (var i = 0; i < fields.length; i++) {
            fields[i].style.display = "none";
            var inputs = fields[i].getElementsByTagName('input');
            for (var j = 0; j < inputs.length; j++) {
                inputs[j].disabled = true;
            }
            var selects = fields[i].getElementsByTagName('select');
            for (var k = 0; k < selects.length; k++) {
                selects[k].disabled = true;
            }
            var textareas = fields[i].getElementsByTagName('textarea');
            for (var l = 0; l < textareas.length; l++) {
                textareas[l].disabled = true;
            }
        }
        var relevantFields = document.getElementsByClassName(category);
        for (var i = 0; i < relevantFields.length; i++) {
            relevantFields[i].style.display = "block";
            var inputs = relevantFields[i].getElementsByTagName('input');
            for (var j = 0; j < inputs.length; j++) {
                inputs[j].disabled = false;
            }
            var selects = relevantFields[i].getElementsByTagName('select');
            for (var k = 0; k < selects.length; k++) {
                selects[k].disabled = false;
            }
            var textareas = relevantFields[i].getElementsByTagName('textarea');
            for (var l = 0; l < textareas.length; l++) {
                textareas[l].disabled = false;
            }
        }
    }
    
    window.onload = function() {
    showFields(); // existing functionality
    document.getElementById('category').addEventListener('change', showFields);

    var addCameraSpecButton = document.getElementById('addCameraSpec');
    if (addCameraSpecButton) {
        addCameraSpecButton.addEventListener('click', function() {
            var newField = document.createElement("div");
            newField.innerHTML = '<input type="text" name="camera_specs_type[]" placeholder="Type" required> <input type="text" name="camera_specs_mp[]" placeholder="MP" required>';
            document.getElementById('camera_specifications').appendChild(newField);
        });
    }

    var addLessonButton = document.getElementById('addLesson');
    if (addLessonButton) {
        addLessonButton.addEventListener('click', function() {
            var newField = document.createElement("div");
            newField.innerHTML = '<input type="text" name="lessons[]" placeholder="Lesson topic" required>';
            document.getElementById('lessonSpecifications').appendChild(newField);
        });
    }
};

</script>
</head>
<body onload="showFields()"> <!-- Ensure fields are correctly shown/hidden on page load -->
<h2>Add New Item</h2>
<form action="/additem" method="POST">
    <label for="category">Category:</label>
    <select name="category" id="category" onchange="showFields()">
        <option value="">Select a category</option>
        <option value="vehicles">Vehicles</option>
        <option value="computers">Computers</option>
        <option value="phones">Phones</option>
        <option value="lessons">Private Lessons</option>
    </select>
    
    <!-- Fields for Vehicles -->
    <div class="field vehicles" style="display:none">
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" required><br>
        
        <label for="type">Type:</label>
        <input type="text" name="type" id="type" required><br>
        
        <label for="brand">Brand:</label>
        <input type="text" name="brand" id="brand" required><br>
        
        <label for="model">Model:</label>
        <input type="text" name="model" id="model" required><br>
        
        <label for="year">Year:</label>
        <input type="number" name="year" id="year" required><br>
        
        <label for="color">Color:</label>
        <input type="text" name="color" id="color" required><br>
        
        <label for="engine_displacement">Engine Displacement (cc):</label>
        <input type="number" name="engine_displacement" id="engine_displacement" required><br>
        
        <label for="fuel_type">Fuel Type:</label>
        <select name="fuel_type" id="fuel_type" required>
            <option value="petrol">Petrol</option>
            <option value="diesel">Diesel</option>
            <option value="electric">Electric</option>
        </select><br>
        
        <label for="transmission_type">Transmission Type:</label>
        <select name="transmission_type" id="transmission_type" required>
            <option value="automatic">Automatic</option>
            <option value="manual">Manual</option>
        </select><br>
        
        <label for="mileage">Mileage (km or miles):</label>
        <input type="number" name="mileage" id="mileage" required><br>
        
        <label for="price">Price:</label>
        <input type="number" name="price" id="price" required><br>
        
        <label for="image">Image URL:</label>
        <input type="url" name="image_link" id="image_link"><br>
        
        <label for="description">Description:</label>
        <textarea name="description" id="description" required></textarea><br>
    </div>
    
    <!-- Fields for Computers -->
    <div class="field computers" style="display:none">
        <label for="title_computers">Title:</label>
        <input type="text" name="title" id="title" required><br>
    
        <label for="type_computers">Type:</label>
        <select name="type" id="type" required>
            <option value="tablet">Tablet</option>
            <option value="notebook">Notebook</option>
            <option value="desktop">Desktop</option>
            <!-- Add more types as needed -->
        </select><br>
    
        <label for="brand_computers">Brand:</label>
        <input type="text" name="brand" id="brand" required><br>
        
        <label for="model_computers">Model:</label>
        <input type="text" name="model" id="model" required><br>
        
        <label for="year_computers">Year:</label>
        <input type="number" name="year" id="year" required><br>
        
        <label for="processor_computers">Processor:</label>
        <input type="text" name="processor" id="processor" required><br>
        
        <label for="ram_computers">RAM:</label>
        <input type="text" name="ram" id="ram" required><br>
        
        <label for="storage_computers">Storage:</label>
        <input type="text" name="storage" id="storage" required><br>
        
        <label for="graphics_card_computers">Graphics Card:</label>
        <input type="text" name="graphics_card" id="graphics_card"><br>
        
        <label for="os_computers">Operating System:</label>
        <input type="text" name="operating_system" id="operating_system" required><br>
        
        <label for="price_computers">Price:</label>
        <input type="number" name="price" id="price" required><br>
        
        <label for="image_computers">Image URL:</label>
        <input type="url" name="image_link" id="image_link"><br>
        
        <label for="description_computers">Description:</label>
        <textarea name="description" id="description" required></textarea><br>
    </div>
    
    <!-- Fields for Phones -->
    <div class="field phones" style="display:none">
        <label for="title_phones">Title:</label>
        <input type="text" name="title" id="title" required><br>

        <label for="brand_phones">Brand:</label>
        <input type="text" name="brand" id="brand" required><br>

        <label for="model_phones">Model:</label>
        <input type="text" name="model" id="model" required><br>

        <label for="year_phones">Year:</label>
        <input type="number" name="year" id="year" required><br>

        <label for="os_phones">Operating System:</label>
        <input type="text" name="operating_system" id="operating_system" required><br>

        <label for="processor_phones">Processor:</label>
        <input type="text" name="processor" id="processor"><br>

        <label for="ram_phones">RAM:</label>
        <input type="text" name="ram" id="ram" required><br>

        <label for="storage_phones">Storage:</label>
        <input type="text" name="storage" id="storage" required><br>

        <div id="camera_specifications">
            <label>Camera Specifications:</label>
            <button type="button" id="addCameraSpec">Add Camera Specification</button>
        </div>

        <label for="battery_phones">Battery Capacity:</label>
        <input type="text" name="battery_capacity" id="battery_capacity" required><br>

        <label for="price_phones">Price:</label>
        <input type="number" name="price" id="price" required><br>

        <label for="image_phones">Image URL:</label>
        <input type="url" name="image_link" id="image_link"><br>

        <label for="description_phones">Description:</label>
        <textarea name="description" id="description" required></textarea><br>
    </div>
    
    <!-- Fields for Private Lessons -->
    <div class="field lessons" style="display:none">
        <label for="title_lessons">Title:</label>
        <input type="text" name="title" id="title" required><br>

        <label for="tutor_name">Tutor Name:</label>
        <input type="text" name="tutor_name" id="tutor_name" required><br>

         <div id="lessonSpecifications">
            <label>Lessons:</label>
         <button type="button" id="addLesson">Add Lesson</button>
        </div>

        <label for="location">Location:</label>
        <input type="text" name="location" id="location" required><br>

        <label for="duration">Duration:</label>
        <input type="text" name="duration" id="duration" required><br>

        <label for="price_lessons">Price:</label>
        <input type="number" name="price" id="price" required><br>

        <label for="image_link">Image URL:</label>
        <input type="url" name="image_link" id="image_link"><br>

        <label for="description">Description:</label>
        <textarea name="description" id="description" required></textarea><br>
    </div>
    
    <button type="submit">Add Item</button>

</form>
</body>
</html>